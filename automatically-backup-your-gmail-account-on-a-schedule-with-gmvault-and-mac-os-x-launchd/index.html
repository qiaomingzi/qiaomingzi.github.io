<!doctype html><html lang=en><head><meta charset=utf-8><meta name=referrer content="no-referrer"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Automatically Backup your Gmail account on a schedule with GMVault and Mac OS X launchd | Henrik Sommerfeld's blog</title><meta property="og:type" content="website"><meta property="og:title" content="Automatically Backup your Gmail account on a schedule with GMVault and Mac OS X launchd"><meta property="og:url" content="https://www.henriksommerfeld.se/automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/"><meta property="og:locale" content="en_GB"><meta property="og:image" content="https://www.henriksommerfeld.se/images/og-image.png"><link rel=canonical href=https://www.henriksommerfeld.se/automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/><meta name=twitter:card content="summary"><meta name=twitter:site content="@p4lm"><link rel=stylesheet type=text/css href=/styles/main-bundle.e75573c6bea7aaab3140306e19405774c84ffb979f881ed3a94f6b927de6276c631b4ab8f64784e7966a712b1bc14e3bcfad88b164b355bdab58473932aaa0f3.css integrity media="screen, tv, projection"><link rel=stylesheet type=text/css href=/styles/print-bundle.f3d1ea3e2e864e24f7a26ff871aef6875b8e6246aad31fa6e63fdc9c91c629f6b4cdd7dca9beb3949f8b61a0db4c6fe8ec1bfc44ccf3a2cd9a91ea8e9eb20d44.css integrity media=print><link rel=preload as=font href=/fonts/muli1.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/muli2.woff2 type=font/woff2 crossorigin=anonymous><link rel=preconnect href=https://hej.henriksommerfeld.se><script async defer data-domain=henriksommerfeld.se src=https://hej.henriksommerfeld.se/js/index.js></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#04396c><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.83.1"><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-arrow-right" viewBox="0 0 32 32"><path d="M19.414 27.414l10-10c.781-.781.781-2.047.0-2.828l-10-10c-.781-.781-2.047-.781-2.828.0s-.781 2.047.0 2.828L23.172 14H4c-1.105.0-2 .895-2 2s.895 2 2 2h19.172l-6.586 6.586c-.39.39-.586.902-.586 1.414s.195 1.024.586 1.414c.781.781 2.047.781 2.828.0z"/></symbol><symbol id="icon-arrow-left" viewBox="0 0 32 32"><path d="M12.586 27.414l-10-10c-.781-.781-.781-2.047.0-2.828l10-10c.781-.781 2.047-.781 2.828.0s.781 2.047.0 2.828L8.828 14H28c1.105.0 2 .895 2 2s-.895 2-2 2H8.828l6.586 6.586c.39.39.586.902.586 1.414s-.195 1.024-.586 1.414c-.781.781-2.047.781-2.828.0z"/></symbol><symbol id="icon-calendar" viewBox="0 0 32 32"><path d="M27.2 4.8h-1.6V8h-4.8V4.8h-9.6V8H6.4V4.8H4.8C3.038 4.8 1.6 6.24 1.6 8v19.2c0 1.76 1.438 3.2 3.2 3.2h22.4c1.76.0 3.2-1.44 3.2-3.2V8c0-1.76-1.44-3.2-3.2-3.2zm0 22.4H4.8V14.4h22.4v12.8zM10.4 1.6H7.2v5.6h3.2V1.6zm14.4.0h-3.2v5.6h3.2V1.6z"/></symbol><symbol id="icon-expand" viewBox="0 0 32 32"><path d="M11.179 17.579l-4.69 4.85-3.29-3.886v10.258h10.219l-3.888-3.33 4.848-4.691-3.2-3.2zM18.581 3.2l3.888 3.33-4.848 4.691 3.2 3.2 4.69-4.85 3.29 3.886V3.199H18.582z"/></symbol><symbol id="icon-collapse" viewBox="0 0 32 32"><path d="M6.56 22.56 1.6 27.2l3.2 3.2 4.64-4.96 3.36 3.36v-9.6H3.2l3.36 3.36zM30.4 4.8l-3.2-3.2-4.64 4.96L19.2 3.2v9.6h9.6l-3.36-3.36L30.4 4.8z"/></symbol><symbol id="icon-bubble" viewBox="0 0 32 32"><path d="M16 2c8.837.0 16 5.82 16 13s-7.163 13-16 13c-.849.0-1.682-.054-2.495-.158C10.068 31.279 5.966 31.895 2 31.986v-.841C4.142 30.096 6 28.184 6 26c0-.305-.024-.604-.068-.897-3.619-2.383-5.932-6.024-5.932-10.103.0-7.18 7.163-13 16-13z"/></symbol><symbol id="icon-folder" viewBox="0 0 32 32"><path d="M29.448 7.678C29.27 6.974 28.4 6.4 27.512 6.4H16.61c-.886.0-2.128-.509-2.755-1.131l-.954-.941c-.627-.622-1.867-1.128-2.754-1.128H4.939c-.888.0-1.694.715-1.792 1.59L2.68 9.6h27.09l-.322-1.922zM31.059 11.2h-30.118c-.547.0-.976.47-.923 1.016l1.477 15.47c.059.63.59 1.114 1.226 1.114h26.56c.635.0 1.165-.483 1.226-1.114l1.477-15.47c.053-.546-.376-1.016-.923-1.016z"/></symbol><symbol id="icon-tag" viewBox="0 0 32 32"><path d="M31.021.648c-.178-.502-.726-.768-1.23-.594s-.77.728-.595 1.232c1.486 4.272-1.464 7.462-3.714 9.171l-.909-1.302c-.306-.437-.989-.8-1.52-.806l-5.101.022c-.531-.01-1.32.234-1.755.541l-15.03 10.539c-.728.512-.904 1.515-.395 2.246l6.83 9.773c.512.728 1.33.64 2.059.131l15.03-10.541c.432-.306.931-.965 1.107-1.469l1.597-5.032c.176-.502.069-1.269-.237-1.706l-.554-.794c3.021-2.315 6.157-6.406 4.416-11.413zM24.027 15.621c-1.163.816-2.77.531-3.584-.634-.818-1.168-.533-2.774.632-3.594.925-.648 2.125-.602 2.989.027-.435.262-.734.416-.79.44-.482.229-.688.806-.461 1.288.166.35.514.557.875.557.138.0.278-.032.411-.094.31-.147.643-.322.99-.528.155.95-.222 1.947-1.062 2.538z"/></symbol><symbol id="icon-circle-with-cross" viewBox="0 0 32 32"><title>Close (Esc)</title><path d="M16 2.56C8.578 2.56 2.56 8.578 2.56 16S8.578 29.44 16 29.44 29.44 23.422 29.44 16 23.422 2.56 16 2.56zm7.662 18.338-2.766 2.766L16 18.766l-4.898 4.896-2.766-2.766L13.235 16l-4.898-4.898 2.766-2.765 4.896 4.896 4.898-4.898 2.766 2.766-4.899 4.898 4.898 4.898z"/></symbol></defs></svg></head><body x-data=window.blog :class="{ 'modal-open': isModalOpen, 'keyboard-navigation' : keyboardNavigation }" @mouseup="keyboardNavigation = false" @keydown.tab="keyboardNavigation = true" @keydown.escape=closeModals()><script>try{const a=window.localStorage.getItem('theme');a==='dark'&&document.querySelector('body').classList.add('dark'),a==='light'&&document.querySelector('body').classList.add('light')}catch(a){}</script><link rel=stylesheet type=text/css href=/styles/post-bundle.min.e3d5c4bf1c8ba2adf183d93bf5d4c4f06dc3fec052e7eec74abfb7536f2ef023b309bd488fb71a8dd50a328eacff6c85ce41bc5918a809417a2fdd4ae2d2d967.css integrity="sha512-49XEvxyLoq3xg9k79dTE8G3D/sBS5+7HSr+3U28u8COzCb1Ij7cajdUKMo6s/2yFzkG8WRioCUF6L91K4tLZZw==" media="screen, tv, projection"><div id=page-wrapper><header><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-home" viewBox="0 0 32 32"><path d="M32 18.451 16 6.031.0 18.451v-5.064l16-12.42 16 12.42zM28 18v12h-8v-8h-8v8H4V18l12-9z"/></symbol><symbol id="icon-user" viewBox="0 0 32 32"><path d="M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432.0-4.971.0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649C7.216 22.637 2 25.97 2 30h28c0-4.03-5.216-7.364-12-7.918z"/></symbol><symbol id="icon-search" viewBox="0 0 32 32"><path d="M31.008 27.231l-7.58-6.447c-.784-.705-1.622-1.029-2.299-.998 1.789-2.096 2.87-4.815 2.87-7.787.0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972.0 5.691-1.081 7.787-2.87-.031.677.293 1.515.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007.23s.997-2.903-.23-4.007zM12 20c-4.418.0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"/></symbol></defs></svg><div class=header-content @click.away=menu.close()><div class=site-title>Henrik Sommerfeld</div><div class=theme-switcher :class="{'has-javascript': true}"><div class=switch><input type=checkbox name=toggle id=theme-switcher-indicator aria-label="Switch theme" @click=theme.toggleChanged($event.target) checked>
<label for=theme-switcher-indicator><i></i></label>
<span></span></div></div><a href=#content id=skip-link class=skip-link @click.prevent=skipLink.skipToContent($refs.content) @click.away=skipLink.removeContentTabIndex($refs.content)>Skip to content</a>
<button @click=menu.toggle() class=hamburger-trigger>Menu<div class=hamburger-menu><div class=bar :class="{'animate': menu.hamburgerIsOpen()}"></div></div></button><nav :class="{'open': menu.isOpen() || menu.isOpening(), 'open closing': menu.isClosing()}"><a href=/ class=home><svg class="icon icon-home"><use xlink:href="#icon-home"/></svg>Home</a>
<a href=/about/ class=about><svg class="icon icon-user"><use xlink:href="#icon-user"/></svg>About</a>
<a href=/search-requires-javascript/ rel=nofollow class=search x-ref=searchMenuLink @click.prevent="menu.close(); search.open();$nextTick(() => $refs.searchInput.focus())"><svg class="icon icon-search"><use xlink:href="#icon-search"/></svg>Search</a></nav></div></header><div class=body><div class=body-max-width><main id=content x-ref=content><article class=full-article><h1>Automatically Backup your Gmail account on a schedule with GMVault and Mac OS X launchd</h1><div class=entry-meta><time class=published datetime="2012-12-10 21:09:15 +0000 +0000"><svg class="icon icon-calendar"><use xlink:href="#icon-calendar"/></svg>10 December 2012</time></div><p>While looking over my backup routines, I stumbled on Scott Hanselman&rsquo;s post <a href=http://www.hanselman.com/blog/AutomaticallyBackupYourGmailAccountOnAScheduleWithGMVaultAndWindowsTaskScheduler.aspx>Automatically Backup your Gmail account on a schedule with GMVault and Windows Task Scheduler</a>. I had never really thought about backing up my Gmail account, but why not. Even though I&rsquo;m mainly a Windows guy, my Windows 8 machine at home is a big tower that requires quite a lot of electricity and is therefore only powered on when needed. My Mac Mini on the other hand is constantly on acting as a server, so why not run GMVault from there?</p><p>My experience with configuring Mac OS X is limited, but I have gained enough knowledge to know that there is something called <em>launchd</em> that is the Mac replacement for <em>init</em> and <em>crontab</em> on other POSIX systems. So, here is one way to configure GMVault to run as a &ldquo;scheduled task&rdquo; on Mac OS X Mountain Lion (10.8.2). My local user account is <em>henrik</em>, so that&rsquo;s what I&rsquo;ll use in this example.</p><ol><li>Download <a href=http://gmvault.org/>GMVault</a> and put the files anywhere you like, I choose <code>/opt/local</code>.</li><li>Run <code>gmvault sync youremail@gmail.com</code> from the shell and wait for as long as it takes. Use the <code>-d</code> option if you don&rsquo;t want the backup at <code>~/gmvault-db</code>.</li><li>Create a small script that runs the GMVault command and does some logging (so you can see if it actually works)</li></ol><div class=code-expandable><div class=code-expanded-controls><a x-show=!code.isExpanded role=button title=Expand @click=code.open($event) href="javascript:void('Expand/collapse code view')"><svg class="icon icon-expand"><use xlink:href="#icon-expand"/></svg></a></div><div class=code><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=cp>#!/bin/bash
</span><span class=cp></span>
logger <span class=s2>&#34;Starting gmvault at </span><span class=k>$(</span>date<span class=k>)</span><span class=s2>&#34;</span>
<span class=nb>echo</span> <span class=s2>&#34;Running gmvault at </span><span class=k>$(</span>date<span class=k>)</span><span class=s2>&#34;</span> &gt; /Users/henrik/backup-gmail.log

<span class=hl>/opt/local/bin/gmvault sync -t quick youremail@gmail.com &gt;&gt; /Users/henrik/backup-gmail.log
</span>
logger <span class=s2>&#34;Finished gmvault at </span><span class=k>$(</span>date<span class=k>)</span><span class=s2>&#34;</span></code></pre></div></div></div><p>Apparently I had to use absolute paths here. The logging is of course optional, but handy. If only it was this simple to write to the Windows logs with PowerShell! I chose to write the output from GMVault to a separate log file after I first made an error (not having absolute paths) in the script and the logging just informed me that GMVault finished in 0 seconds. Run the script once to verify that it works as expected.</p><ol start=4><li><p>I chose a GUI approach and used Lingon to create the agent, but you could just as well use your favourite text editor to create the plist file, this is listed below. Create the agent running as your user, it is necessary for the OAuth authentication to work. Make sure to use a unique name, I chose <em>se.henrikpalm.gmailBackup</em>, and use the full path to the script. To test this, it can be good to choose a time for the agent to run that is a few minutes in the future.</p><noscript><style>figure.lazy{display:none}</style><figure><img src=/automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/Lingon-Basic-GmailBackup.png><figcaption><em></em></figcaption></figure></noscript><figure class=lazy><img class=lazyload data-sizes=auto src=/automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/Lingon-Basic-GmailBackup.png srcset=data:image/jpeg;base64,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 data-src=/automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/Lingon-Basic-GmailBackup.png data-srcset="/automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/Lingon-Basic-GmailBackup.png 891w, /automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/Lingon-Basic-GmailBackup_hu2cc115fa2a9e033c25c2b1925565b2af_147862_500x0_resize_box_2.png 500w, /automatically-backup-your-gmail-account-on-a-schedule-with-gmvault-and-mac-os-x-launchd/Lingon-Basic-GmailBackup_hu2cc115fa2a9e033c25c2b1925565b2af_147862_800x0_resize_box_2.png 800w" width=891 height=846 alt="Configure Gmail backup script with Lingon"></figure><p>The result of the GUI approach above is a file located at <code>~/Library/LaunchAgents/se.henrikpalm.gmailBackup.plist</code>, containing the following:<div class=code-expandable><div class=code-expanded-controls><a x-show=!code.isExpanded role=button title=Expand @click=code.open($event) href="javascript:void('Expand/collapse code view')"><svg class="icon icon-expand"><use xlink:href="#icon-expand"/></svg></a></div><div class=code><div class=highlight><pre class=chroma><code class=language-xml data-lang=xml><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class=cp>&lt;!DOCTYPE plist PUBLIC &#34;-//Apple//DTD PLIST 1.0//EN&#34; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&gt;</span>
<span class=nt>&lt;plist</span> <span class=na>version=</span><span class=s>&#34;1.0&#34;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;dict&gt;</span>
        <span class=nt>&lt;key&gt;</span>Label<span class=nt>&lt;/key&gt;</span>
        <span class=nt>&lt;string&gt;</span>se.henrikpalm.gmailBackup<span class=nt>&lt;/string&gt;</span>
        <span class=nt>&lt;key&gt;</span>ProgramArguments<span class=nt>&lt;/key&gt;</span>
        <span class=nt>&lt;array&gt;</span>
            <span class=nt>&lt;string&gt;</span>/Users/henrik/backup-gmail.sh<span class=nt>&lt;/string&gt;</span>
        <span class=nt>&lt;/array&gt;</span>
        <span class=nt>&lt;key&gt;</span>RunAtLoad<span class=nt>&lt;/key&gt;</span>
        <span class=nt>&lt;false/&gt;</span>
        <span class=nt>&lt;key&gt;</span>StartCalendarInterval<span class=nt>&lt;/key&gt;</span>
        <span class=nt>&lt;dict&gt;</span>
            <span class=nt>&lt;key&gt;</span>Hour<span class=nt>&lt;/key&gt;</span>
            <span class=nt>&lt;integer&gt;</span>13<span class=nt>&lt;/integer&gt;</span>
            <span class=nt>&lt;key&gt;</span>Minute<span class=nt>&lt;/key&gt;</span>
            <span class=nt>&lt;integer&gt;</span>0<span class=nt>&lt;/integer&gt;</span>
        <span class=nt>&lt;/dict&gt;</span>
        <span class=nt>&lt;key&gt;</span>StartOnMount<span class=nt>&lt;/key&gt;</span>
        <span class=nt>&lt;false/&gt;</span>
    <span class=nt>&lt;/dict&gt;</span>
<span class=nt>&lt;/plist&gt;</span></code></pre></div></div></div></p></li><li><p>Start the agent.</p></li></ol><pre><code>launchctl load ~/Library/LaunchAgents/se.henrikpalm.gmailBackup.plist
</code></pre><pre><code>Any configuration change in the agent requires it to be reloaded.
</code></pre><pre><code>launchctl unload ~/Library/LaunchAgents/se.henrikpalm.gmailBackup.plist; launchctl load ~/Library/LaunchAgents/se.henrikpalm.gmailBackup.plist
</code></pre><ol start=6><li>Check the logs.</li></ol><pre><code>tail -F -n 20 /var/log/system.log | grep gmvault
</code></pre><pre><code>When the agent runs you should see something like this:
</code></pre><pre><code>Dec 5 13:00:03 Mini.local henrik[93574]: Starting gmvault at Wed Dec 5 13:00:03 CET 2012
Dec 5 13:00:24 Mini.local henrik[93589]: Finished gmvault at Wed Dec 5 13:00:24 CET 2012
</code></pre><ol start=7><li>Done! Time Machine will now take care of backing up the local backup ðŸ˜ƒ</li></ol><footer><section class=categories-tags><span><svg class="icon icon-folder"><use xlink:href="#icon-folder"/></svg><span class=screen-reader-text>This entry was posted in</span>
<a href=/categories/tooling>Tooling</a></span> <span><svg class="icon icon-tag"><use xlink:href="#icon-tag"/></svg><a class=article-tags href=/tags/backup>Backup</a>,
<a class=article-tags href=/tags/gmail>Gmail</a>,
<a class=article-tags href=/tags/gmvault>GMVault</a>,
<a class=article-tags href=/tags/macos>macOS</a>,
<a class=article-tags href=/tags/scripting>Scripting</a></span></section></footer><div id=comments-button-container class=comments-button-container><button type=button onclick=loadDisqus() class=comments-button><svg class="icon icon-bubble"><use xlink:href="#icon-bubble"/></svg> <span>Show Comments</span></button></div><div id=disqus_thread></div><script type=text/javascript>function loadDisqus(){var a,b;document.getElementById('comments-button-container').style.display='none',a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='henrik-sommerfeld',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)}</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><aside id=sidebar><div class=widget><div class=widget-title>Recent posts</div><ol class="recent-widget widget-content"><li><a href=/my-favourite-note-taking-app-for-mac-and-iphone/>My Favourite Note Taking App for Mac and iPhone</a></li><li><a href=/usability-learnings-from-building-a-cli/>Usability Learnings from Building a CLI</a></li><li><a href=/using-same-node-in-jenkins-groovy-pipeline/>Using Same Node in Jenkins Groovy Pipeline</a></li><li><a href=/search-static-website-without-external-service/>Search for Static Website Without External Service</a></li><li><a href=/simple-short-url-service/>Simple Short URL Service</a></li></ol></div><div class=widget><div class=widget-title>Tags</div><div class="tag-cloud-tags widget-content"><a href=/tags/alpine.js aria-label="alpine.js (1 posts)" style=font-size:1rem>alpine.js</a>
<a href=/tags/angular aria-label="angular (2 posts)" style=font-size:1.2101196280297548rem>angular</a>
<a href=/tags/arduino aria-label="arduino (2 posts)" style=font-size:1.2101196280297548rem>arduino</a>
<a href=/tags/azure-iot-hub aria-label="azure-iot-hub (2 posts)" style=font-size:1.2101196280297548rem>azure-iot-hub</a>
<a href=/tags/azure-media-player aria-label="azure-media-player (1 posts)" style=font-size:1rem>azure-media-player</a>
<a href=/tags/backup aria-label="backup (3 posts)" style=font-size:1.3330317310926394rem>backup</a>
<a href=/tags/bear aria-label="bear (1 posts)" style=font-size:1rem>bear</a>
<a href=/tags/brix aria-label="brix (1 posts)" style=font-size:1rem>brix</a>
<a href=/tags/career aria-label="career (2 posts)" style=font-size:1.2101196280297548rem>career</a>
<a href=/tags/chromecast aria-label="chromecast (1 posts)" style=font-size:1rem>chromecast</a>
<a href=/tags/chutzpah aria-label="chutzpah (1 posts)" style=font-size:1rem>chutzpah</a>
<a href=/tags/cmder aria-label="cmder (4 posts)" style=font-size:1.4202392560595096rem>cmder</a>
<a href=/tags/code-quality aria-label="code-quality (2 posts)" style=font-size:1.2101196280297548rem>code-quality</a>
<a href=/tags/conemu aria-label="conemu (1 posts)" style=font-size:1rem>conemu</a>
<a href=/tags/crashplan aria-label="crashplan (2 posts)" style=font-size:1.2101196280297548rem>crashplan</a>
<a href=/tags/css aria-label="css (6 posts)" style=font-size:1.5431513591223942rem>css</a>
<a href=/tags/dark-mode aria-label="dark-mode (1 posts)" style=font-size:1rem>dark-mode</a>
<a href=/tags/franz aria-label="franz (1 posts)" style=font-size:1rem>franz</a>
<a href=/tags/gatsbyjs aria-label="gatsbyjs (4 posts)" style=font-size:1.4202392560595096rem>gatsbyjs</a>
<a href=/tags/gmail aria-label="gmail (1 posts)" style=font-size:1rem>gmail</a>
<a href=/tags/gmvault aria-label="gmvault (1 posts)" style=font-size:1rem>gmvault</a>
<a href=/tags/google-analytics aria-label="google-analytics (1 posts)" style=font-size:1rem>google-analytics</a>
<a href=/tags/hardware aria-label="hardware (10 posts)" style=font-size:1.6980022956393248rem>hardware</a>
<a href=/tags/hugo aria-label="hugo (11 posts)" style=font-size:1.7268944849024415rem>hugo</a>
<a href=/tags/infuse aria-label="infuse (1 posts)" style=font-size:1rem>infuse</a>
<a href=/tags/internet-information-server aria-label="internet-information-server (1 posts)" style=font-size:1rem>internet-information-server</a>
<a href=/tags/internet-of-things aria-label="internet-of-things (7 posts)" style=font-size:1.5898803719702452rem>internet-of-things</a>
<a href=/tags/jasmine aria-label="jasmine (2 posts)" style=font-size:1.2101196280297548rem>jasmine</a>
<a href=/tags/javascript aria-label="javascript (14 posts)" style=font-size:1.8rem>javascript</a>
<a href=/tags/jenkins aria-label="jenkins (1 posts)" style=font-size:1rem>jenkins</a>
<a href=/tags/lunr aria-label="lunr (1 posts)" style=font-size:1rem>lunr</a>
<a href=/tags/macos aria-label="macos (5 posts)" style=font-size:1.4878826676095698rem>macos</a>
<a href=/tags/montezuma aria-label="montezuma (1 posts)" style=font-size:1rem>montezuma</a>
<a href=/tags/netlify-cms aria-label="netlify-cms (2 posts)" style=font-size:1.2101196280297548rem>netlify-cms</a>
<a href=/tags/networking aria-label="networking (3 posts)" style=font-size:1.3330317310926394rem>networking</a>
<a href=/tags/nodejs aria-label="nodejs (10 posts)" style=font-size:1.6980022956393248rem>nodejs</a>
<a href=/tags/notepad++ aria-label="notepad++ (1 posts)" style=font-size:1rem>notepad++</a>
<a href=/tags/oclif aria-label="oclif (1 posts)" style=font-size:1rem>oclif</a>
<a href=/tags/onedrive aria-label="onedrive (1 posts)" style=font-size:1rem>onedrive</a>
<a href=/tags/powershell aria-label="powershell (3 posts)" style=font-size:1.3330317310926394rem>powershell</a>
<a href=/tags/progressive-web-app aria-label="progressive-web-app (1 posts)" style=font-size:1rem>progressive-web-app</a>
<a href=/tags/proxy aria-label="proxy (1 posts)" style=font-size:1rem>proxy</a>
<a href=/tags/python aria-label="python (1 posts)" style=font-size:1rem>python</a>
<a href=/tags/raspberry-pi aria-label="raspberry-pi (4 posts)" style=font-size:1.4202392560595096rem>raspberry-pi</a>
<a href=/tags/reactjs aria-label="reactjs (4 posts)" style=font-size:1.4202392560595096rem>reactjs</a>
<a href=/tags/responsive-design aria-label="responsive-design (1 posts)" style=font-size:1rem>responsive-design</a>
<a href=/tags/sage aria-label="sage (1 posts)" style=font-size:1rem>sage</a>
<a href=/tags/scripting aria-label="scripting (7 posts)" style=font-size:1.5898803719702452rem>scripting</a>
<a href=/tags/sharepoint aria-label="sharepoint (4 posts)" style=font-size:1.4202392560595096rem>sharepoint</a>
<a href=/tags/short-urls aria-label="short-urls (1 posts)" style=font-size:1rem>short-urls</a>
<a href=/tags/tag-cloud aria-label="tag-cloud (1 posts)" style=font-size:1rem>tag-cloud</a>
<a href=/tags/testing aria-label="testing (1 posts)" style=font-size:1rem>testing</a>
<a href=/tags/text-editor aria-label="text-editor (1 posts)" style=font-size:1rem>text-editor</a>
<a href=/tags/typescript aria-label="typescript (4 posts)" style=font-size:1.4202392560595096rem>typescript</a>
<a href=/tags/unit-testing aria-label="unit-testing (3 posts)" style=font-size:1.3330317310926394rem>unit-testing</a>
<a href=/tags/vmware-workstation aria-label="vmware-workstation (1 posts)" style=font-size:1rem>vmware-workstation</a>
<a href=/tags/vs-code aria-label="vs-code (2 posts)" style=font-size:1.2101196280297548rem>vs-code</a>
<a href=/tags/warm-up aria-label="warm-up (1 posts)" style=font-size:1rem>warm-up</a>
<a href=/tags/windock aria-label="windock (1 posts)" style=font-size:1rem>windock</a>
<a href=/tags/windows-10 aria-label="windows-10 (4 posts)" style=font-size:1.4202392560595096rem>windows-10</a>
<a href=/tags/windows-search aria-label="windows-search (1 posts)" style=font-size:1rem>windows-search</a>
<a href=/tags/windows-server aria-label="windows-server (2 posts)" style=font-size:1.2101196280297548rem>windows-server</a>
<a href=/tags/windows-subsystem-for-linux aria-label="windows-subsystem-for-linux (1 posts)" style=font-size:1rem>windows-subsystem-for-linux</a>
<a href=/tags/wordpress aria-label="wordpress (3 posts)" style=font-size:1.3330317310926394rem>wordpress</a></div></div><div class=widget><div class=widget-title>Categories</div><ol class="all-categories widget-content"><li><a href=/categories/coding>coding</a> (44)</li><li><a href=/categories/thoughts>thoughts</a> (15)</li><li><a href=/categories/tooling>tooling</a> (17)</li></ol></div></aside></div></div><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-github" viewBox="0 0 32 32"><path d="M16 .395c-8.836.0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182.8.148 1.094-.347 1.094-.77.0-.381-.015-1.642-.022-2.979-4.452.968-5.391-1.888-5.391-1.888-.728-1.849-1.776-2.341-1.776-2.341-1.452-.993.11-.973.11-.973 1.606.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33.143-1.034.558-1.74 1.016-2.14-3.554-.404-7.29-1.777-7.29-7.907.0-1.747.625-3.174 1.649-4.295-.166-.403-.714-2.03.155-4.234.0.0 1.344-.43 4.401 1.64 1.276-.355 2.645-.532 4.005-.539 1.359.006 2.729.184 4.008.539 3.054-2.07 4.395-1.64 4.395-1.64.871 2.204.323 3.831.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295.0 6.145-3.743 7.498-7.306 7.895.574.497 1.085 1.47 1.085 2.963.0 2.141-.019 3.864-.019 4.391.0.426.288.925 1.099.768C27.421 29.457 32 23.462 32 16.395c0-8.837-7.164-16-16-16z"/></symbol><symbol id="icon-arrow-with-circle-up" viewBox="0 0 32 32"><path d="M16 .64C7.515.64.638 7.517.638 16c0 8.485 6.877 15.362 15.362 15.362 8.482.0 15.36-6.877 15.36-15.362.0-8.483-6.878-15.36-15.36-15.36zM15.998 28.16c-6.715.0-12.16-5.443-12.16-12.16S9.281 3.84 15.998 3.84 28.16 9.285 28.16 16s-5.446 12.16-12.162 12.16zM16 8.8l7.2 7.2h-4v6.4h-6.4V16h-4L16 8.8z"/></symbol></defs></svg><footer id=page-footer><div class=footer-content><a href=https://github.com/henriksommerfeld/blog-hugo target=_blank rel=noopener title="Source Code for this Blog"><div class=footer-text><svg class="icon icon-github"><use xlink:href="#icon-github"/></svg>Blog code</div></a><a href=#page-wrapper title="Go to top" id=go-to-top-link><div class=footer-text>To top<svg class="icon icon-arrow-with-circle-up"><use xlink:href="#icon-arrow-with-circle-up"/></svg></div></a><script>document.getElementById("go-to-top-link").onclick=function(){return window.scroll(0,0),!1}</script></div></footer></div><div id=lightbox-container :class="{'open': lightbox.isOpen, 'close': !lightbox.isOpen}"><button type=button aria-label="Close image modal" class=modal-close-button @click=lightbox.close()><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=lightbox-loading-container x-ref=lightboxLoadingContainer x-show=lightbox.showLoading><div id=lightbox-loading><div aria-busy=true aria-label="Loading, please wait." role=progressbar class=spinner @click=lightbox.cancel() @click.away=lightbox.cancel()></div></div></div><div id=lightbox x-ref=lightbox :class="{'open': lightbox.openImage, 'close': !lightbox.openImage}" @click=lightbox.close()></div></div><div id=code-container :class="{'open': code.isOpening, 'close': !code.isOpening}"><button class=modal-close-button><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=code-container-inner class=close :class="{'open': code.isOpening, 'close': !code.isOpening}"><div class=box-shadow-container @click.away=code.close()><div id=code-placeholder></div></div></div></div><div id=searchbox-container :class="{'open': search.isOpen}" x-show=search.isOpen x-on:keydown.escape="$nextTick(() => $refs.searchMenuLink.focus())"><button type=button aria-label="Close search modal" class=modal-close-button @click="search.close();$nextTick(() => $refs.searchMenuLink.focus())"><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=searchbox :class="{'open': search.isOpen}"><svg class="icon icon-search"><use xlink:href="#icon-search"/></svg><label for=search-input class=sr-only>Searchbox</label>
<input id=search-input type=search placeholder=Search... class=search-input x-ref=searchInput autocomplete=off autocorrect=off autocapitalize=off spellcheck=false x-model=search.textInSearchBox x-on:input=search.searchBoxChanged($event.target.value) x-on:keydown.enter="search.focusFirstAnchor($event, $refs.hits)" x-on:keydown.arrow-down="search.focusFirstAnchor($event, $refs.hits)"><svg class="icon icon-circle-with-cross close-search" role="button" aria-label="Close search" @click="search.close();$nextTick(() => $refs.searchMenuLink.focus())"><use xlink:href="#icon-circle-with-cross"/></svg></div><div class=search-results-container><div id=search-output x-show=search.textInSearchBox><div id=no-results-message x-show="search.store && search.textInSearchBox && !search.hits.length">No matching posts found. You can use wildcards and search only in titles, e.g. <code>title:iot</code></div><div id=index-loading-message x-show="!search.indexLoadFailed && search.indexLoading && search.textInSearchBox"><span class=icon-spinner aria-hidden=true></span>Loading search index, please wait...</div><div id=index-failed-message x-show="search.indexLoadFailed && search.textInSearchBox">Search index failed to download ðŸ˜¢</div><div id=number-of-hits-message x-text=search.getHitsText() x-show=search.hits.length></div><ol class=result-list x-show=search.hits.length x-ref=hits><template x-for="hit in search.hits" :key=hit.ref><li><h2><a :href=hit.ref x-text=search.fromStore(hit).title></a></h2><div class=entry-meta><time class=published :datetime=search.fromStore(hit).dateiso><svg class="icon icon-calendar"><use xlink:href="#icon-calendar"/></svg><span x-text=search.fromStore(hit).dateformatted></span></time></div><p x-text=search.fromStore(hit).summary></p></li></template></ol></div></div></div><script src=/bundle.d969e7811744a912e4a95d442be0c0f42bf900a7a2b534c5942a8186f31138f3a0eb00df75e75ff1711191bc48948cfbffa129a1afb01af449abe8b34351266c.js integrity="sha512-2WnngRdEqRLkqV1EK+DA9Cv5AKeitTTFlCqBhvMROPOg6wDfdedf8XERkbxIlIz7/6Epoa+wGvRJq+izQ1EmbA=="></script></body></html>