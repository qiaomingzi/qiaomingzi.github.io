<!doctype html><html lang=en><head><meta charset=utf-8><meta name=referrer content="no-referrer"><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>mysql master-slave | mingzi.li blog</title><meta property="og:type" content="website"><meta property="og:title" content="mysql master-slave"><meta property="og:url" content="http://qiaomingzi.github.io/mysql-master-slave/"><meta property="og:locale" content="en_GB"><meta property="og:image" content="http://qiaomingzi.github.io/images/og-image.png"><link rel=canonical href=http://qiaomingzi.github.io/mysql-master-slave/><meta name=twitter:card content="summary"><meta name=twitter:site content="@p4lm"><link rel=stylesheet type=text/css href=/styles/main-bundle.108386b285ad502399f3a8ab890a333c177e59d922733a408892e466a7a87f70d143ace3585f247b62a75a780bd7bcff68b60fc6760b5ae1414e52c78fe708e7.css integrity media="screen, tv, projection"><link rel=stylesheet type=text/css href=/styles/print-bundle.f3d1ea3e2e864e24f7a26ff871aef6875b8e6246aad31fa6e63fdc9c91c629f6b4cdd7dca9beb3949f8b61a0db4c6fe8ec1bfc44ccf3a2cd9a91ea8e9eb20d44.css integrity media=print><link rel=preload as=font href=/fonts/muli1.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/muli2.woff2 type=font/woff2 crossorigin=anonymous><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#04396c><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.83.1"><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-arrow-right" viewBox="0 0 32 32"><path d="M19.414 27.414l10-10c.781-.781.781-2.047.0-2.828l-10-10c-.781-.781-2.047-.781-2.828.0s-.781 2.047.0 2.828L23.172 14H4c-1.105.0-2 .895-2 2s.895 2 2 2h19.172l-6.586 6.586c-.39.39-.586.902-.586 1.414s.195 1.024.586 1.414c.781.781 2.047.781 2.828.0z"/></symbol><symbol id="icon-arrow-left" viewBox="0 0 32 32"><path d="M12.586 27.414l-10-10c-.781-.781-.781-2.047.0-2.828l10-10c.781-.781 2.047-.781 2.828.0s.781 2.047.0 2.828L8.828 14H28c1.105.0 2 .895 2 2s-.895 2-2 2H8.828l6.586 6.586c.39.39.586.902.586 1.414s-.195 1.024-.586 1.414c-.781.781-2.047.781-2.828.0z"/></symbol><symbol id="icon-calendar" viewBox="0 0 32 32"><path d="M27.2 4.8h-1.6V8h-4.8V4.8h-9.6V8H6.4V4.8H4.8C3.038 4.8 1.6 6.24 1.6 8v19.2c0 1.76 1.438 3.2 3.2 3.2h22.4c1.76.0 3.2-1.44 3.2-3.2V8c0-1.76-1.44-3.2-3.2-3.2zm0 22.4H4.8V14.4h22.4v12.8zM10.4 1.6H7.2v5.6h3.2V1.6zm14.4.0h-3.2v5.6h3.2V1.6z"/></symbol><symbol id="icon-expand" viewBox="0 0 32 32"><path d="M11.179 17.579l-4.69 4.85-3.29-3.886v10.258h10.219l-3.888-3.33 4.848-4.691-3.2-3.2zM18.581 3.2l3.888 3.33-4.848 4.691 3.2 3.2 4.69-4.85 3.29 3.886V3.199H18.582z"/></symbol><symbol id="icon-collapse" viewBox="0 0 32 32"><path d="M6.56 22.56 1.6 27.2l3.2 3.2 4.64-4.96 3.36 3.36v-9.6H3.2l3.36 3.36zM30.4 4.8l-3.2-3.2-4.64 4.96L19.2 3.2v9.6h9.6l-3.36-3.36L30.4 4.8z"/></symbol><symbol id="icon-bubble" viewBox="0 0 32 32"><path d="M16 2c8.837.0 16 5.82 16 13s-7.163 13-16 13c-.849.0-1.682-.054-2.495-.158C10.068 31.279 5.966 31.895 2 31.986v-.841C4.142 30.096 6 28.184 6 26c0-.305-.024-.604-.068-.897-3.619-2.383-5.932-6.024-5.932-10.103.0-7.18 7.163-13 16-13z"/></symbol><symbol id="icon-folder" viewBox="0 0 32 32"><path d="M29.448 7.678C29.27 6.974 28.4 6.4 27.512 6.4H16.61c-.886.0-2.128-.509-2.755-1.131l-.954-.941c-.627-.622-1.867-1.128-2.754-1.128H4.939c-.888.0-1.694.715-1.792 1.59L2.68 9.6h27.09l-.322-1.922zM31.059 11.2h-30.118c-.547.0-.976.47-.923 1.016l1.477 15.47c.059.63.59 1.114 1.226 1.114h26.56c.635.0 1.165-.483 1.226-1.114l1.477-15.47c.053-.546-.376-1.016-.923-1.016z"/></symbol><symbol id="icon-tag" viewBox="0 0 32 32"><path d="M31.021.648c-.178-.502-.726-.768-1.23-.594s-.77.728-.595 1.232c1.486 4.272-1.464 7.462-3.714 9.171l-.909-1.302c-.306-.437-.989-.8-1.52-.806l-5.101.022c-.531-.01-1.32.234-1.755.541l-15.03 10.539c-.728.512-.904 1.515-.395 2.246l6.83 9.773c.512.728 1.33.64 2.059.131l15.03-10.541c.432-.306.931-.965 1.107-1.469l1.597-5.032c.176-.502.069-1.269-.237-1.706l-.554-.794c3.021-2.315 6.157-6.406 4.416-11.413zM24.027 15.621c-1.163.816-2.77.531-3.584-.634-.818-1.168-.533-2.774.632-3.594.925-.648 2.125-.602 2.989.027-.435.262-.734.416-.79.44-.482.229-.688.806-.461 1.288.166.35.514.557.875.557.138.0.278-.032.411-.094.31-.147.643-.322.99-.528.155.95-.222 1.947-1.062 2.538z"/></symbol><symbol id="icon-circle-with-cross" viewBox="0 0 32 32"><title>Close (Esc)</title><path d="M16 2.56C8.578 2.56 2.56 8.578 2.56 16S8.578 29.44 16 29.44 29.44 23.422 29.44 16 23.422 2.56 16 2.56zm7.662 18.338-2.766 2.766L16 18.766l-4.898 4.896-2.766-2.766L13.235 16l-4.898-4.898 2.766-2.765 4.896 4.896 4.898-4.898 2.766 2.766-4.899 4.898 4.898 4.898z"/></symbol></defs></svg></head><body x-data=window.blog :class="{ 'modal-open': isModalOpen, 'keyboard-navigation' : keyboardNavigation }" @mouseup="keyboardNavigation = false" @keydown.tab="keyboardNavigation = true" @keydown.escape=closeModals()><script>try{const a=window.localStorage.getItem('theme');a==='dark'&&document.querySelector('body').classList.add('dark'),a==='light'&&document.querySelector('body').classList.add('light')}catch(a){}</script><link rel=stylesheet type=text/css href=/styles/post-bundle.min.a3c415b51dea409e064708f705f91702ddddb4aaf1c7522073113ac5c6941f198ce5f39ea63cfaf21674b905146c1bdf3eeb0eaa41d22b9d013117c9bb72d81e.css integrity="sha512-o8QVtR3qQJ4GRwj3BfkXAt3dtKrxx1IgcxE6xcaUHxmM5fOepjz68hZ0uQUUbBvfPusOqkHSK50BMRfJu3LYHg==" media="screen, tv, projection"><div id=page-wrapper><header><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-home" viewBox="0 0 32 32"><path d="M32 18.451 16 6.031.0 18.451v-5.064l16-12.42 16 12.42zM28 18v12h-8v-8h-8v8H4V18l12-9z"/></symbol><symbol id="icon-user" viewBox="0 0 32 32"><path d="M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432.0-4.971.0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649C7.216 22.637 2 25.97 2 30h28c0-4.03-5.216-7.364-12-7.918z"/></symbol><symbol id="icon-search" viewBox="0 0 32 32"><path d="M31.008 27.231l-7.58-6.447c-.784-.705-1.622-1.029-2.299-.998 1.789-2.096 2.87-4.815 2.87-7.787.0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972.0 5.691-1.081 7.787-2.87-.031.677.293 1.515.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007.23s.997-2.903-.23-4.007zM12 20c-4.418.0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z"/></symbol></defs></svg><div class=header-content @click.away=menu.close()><div class=site-title>mingzi.li blog<span style=font-size:.5rem;margin-top:20px>&nbsp;&nbsp;è¡Œåˆ°æ°´ç©·å¤„ï¼Œåçœ‹é£äº‘èµ·</span></div><div class=theme-switcher :class="{'has-javascript': true}"><div class=switch><input type=checkbox name=toggle id=theme-switcher-indicator aria-label="Switch theme" @click=theme.toggleChanged($event.target) checked>
<label for=theme-switcher-indicator><i></i></label>
<span></span></div></div><a href=#content id=skip-link class=skip-link @click.prevent=skipLink.skipToContent($refs.content) @click.away=skipLink.removeContentTabIndex($refs.content)>Skip to content</a>
<button @click=menu.toggle() class=hamburger-trigger>Menu<div class=hamburger-menu><div class=bar :class="{'animate': menu.hamburgerIsOpen()}"></div></div></button><nav :class="{'open': menu.isOpen() || menu.isOpening(), 'open closing': menu.isClosing()}"><a href=/ class=home><svg class="icon icon-home"><use xlink:href="#icon-home"/></svg>é¦–é¡µ</a>
<a href=/about/ class=about><svg class="icon icon-user"><use xlink:href="#icon-user"/></svg>å…³äºæˆ‘</a>
<a href=/search-requires-javascript/ rel=nofollow class=search x-ref=searchMenuLink @click.prevent="menu.close(); search.open();$nextTick(() => $refs.searchInput.focus())"><svg class="icon icon-search"><use xlink:href="#icon-search"/></svg>æœç´¢</a></nav></div></header><div class=body><div class=body-max-width><main id=content x-ref=content><article class=full-article><h1>mysql master-slave</h1><div class=entry-meta><time class=published datetime="2021-10-16 15:42:33 +0000 UTC"><svg class="icon icon-calendar"><use xlink:href="#icon-calendar"/></svg>2021 October 16</time></div><div style=text-align:center;display:block;color:#999><div>æœ¬æ–‡ä»…ä¸ºä¸ªäººç¬”è®°,ä½œä¸ºå­¦ä¹ ä½¿ç”¨,å¦‚æœ‰é›·åŒè¯·è”ç³»ä½œè€… mingzi.li å¤„ç†,mail: qiaomingzi100@sina.com</div></div><h3 id=1å‚è€ƒ>1.å‚è€ƒ</h3><p>ã€mysql8.0æ‰‹å†Œã€‘https://dev.mysql.com/doc/refman/8.0/en/</p><p>ã€mysql docã€‘https://dev.mysql.com/doc/</p><p>ã€alibaba canalã€‘https://github.com/alibaba/canal</p><h3 id=2æ¦‚è¦>2.æ¦‚è¦</h3><p>é€šè¿‡æœ¬æ–‡å¯ä»¥äº†è§£ä¸»ä»åŒæ­¥åŸç†ï¼Œå¿«é€Ÿæ­å»ºä¸€ä¸ªä¸»ä»ç¯å¢ƒ,å®ç°å¤åˆ¶åœºæ™¯ï¼Œå¹¶ä¸”åˆ©ç”¨canalå®ç°è®¢é˜…binglogæ—¥å¿—ï¼Œå®ç°è·¨å®ä¾‹åŒæ­¥ã€‚</p><p>ä¸­é—´ä»¶ç‰ˆæœ¬:</p><p>mysql-8.0.27</p><p>canal 1.1.5</p><h3 id=3ä¸»ä»åŒæ­¥>3.ä¸»ä»åŒæ­¥</h3><p>åˆ›å»ºå®¹é”™ç³»ç»Ÿçš„æœ€å¸¸è§æ–¹æ³•å°±æ˜¯å†—ä½™ï¼Œå¤åˆ¶æ¨¡å¼åˆ†æ™®é€šå¤åˆ¶ã€ç»„å¤åˆ¶ï¼Œæ™®é€šå¤åˆ¶å³ä¼ ç»Ÿçš„ MySQLå¤åˆ¶ æä¾›äº†ä¸€ç§ç®€å•çš„æº(mater)åˆ°å‰¯æœ¬å¤åˆ¶æ–¹æ³•,ã€‚</p><h4 id=master-slave-syn>master-slave syn</h4><p><img src=3.jpg alt></p><p>MySQL å¤åˆ¶åŠŸèƒ½å…è®¸æœåŠ¡å™¨ -<strong>ä¸»</strong>æœåŠ¡å™¨ - å°†æ‰€æœ‰æ›´æ”¹å‘é€åˆ°å¦ä¸€å°æœåŠ¡å™¨ -<strong>ä»</strong>æœåŠ¡å™¨ -<strong>ä»</strong>æœåŠ¡å™¨å°è¯•åº”ç”¨æ‰€æœ‰æ›´æ”¹ä»¥ä¸ä¸»æœåŠ¡å™¨ä¿æŒåŒæ­¥ã€‚å¤åˆ¶å·¥ä½œå¦‚ä¸‹ï¼š</p><ul><li><p>æ¯å½“ master çš„æ•°æ®åº“è¢«ä¿®æ”¹æ—¶ï¼Œæ›´æ”¹éƒ½ä¼šå†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œå³æ‰€è°“çš„<strong>äºŒè¿›åˆ¶æ—¥å¿—</strong>æˆ–<strong>binlog</strong>ã€‚è¿™æ˜¯ç”±æ‰§è¡Œä¿®æ”¹æ•°æ®åº“çš„æŸ¥è¯¢çš„å®¢æˆ·ç«¯çº¿ç¨‹å®Œæˆçš„ã€‚</p></li><li><p>master æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œç§°ä¸º<strong>dump thread</strong>ï¼Œå®ƒä¸æ–­è¯»å– master çš„ binlog å¹¶å°†å…¶å‘é€ç»™ slaveã€‚</p></li><li><p>slaveæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œç§°ä¸º<strong>IOçº¿ç¨‹</strong>ï¼Œå®ƒæ¥æ”¶masterçš„dumpçº¿ç¨‹å‘é€çš„binlogï¼Œå¹¶å°†å…¶å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼š <strong>relay log</strong>ï¼Œshow variables like &lsquo;%relay%'ã€‚</p></li><li><p>ä»æœåŠ¡å™¨æœ‰å¦ä¸€ä¸ªçº¿ç¨‹ï¼Œç§°ä¸º <strong>SQL çº¿ç¨‹</strong>ï¼Œå®ƒä¸æ–­è¯»å–ä¸­ç»§æ—¥å¿—å¹¶å°†æ›´æ”¹åº”ç”¨åˆ°ä»æœåŠ¡å™¨ã€‚</p></li></ul><p>MySQL å¤åˆ¶åŠŸèƒ½ä½¿ç”¨ä¸‰ä¸ªä¸»çº¿ç¨‹å®ç°ï¼Œä¸€ä¸ªåœ¨æºæœåŠ¡å™¨ä¸Šï¼Œä¸¤ä¸ªåœ¨å‰¯æœ¬ä¸Šï¼š</p><ul><li><p><strong>äºŒè¿›åˆ¶æ—¥å¿—è½¬å‚¨çº¿ç¨‹ã€‚</strong> å½“å‰¯æœ¬è¿æ¥æ—¶ï¼Œæºåˆ›å»ºä¸€ä¸ªçº¿ç¨‹å°†äºŒè¿›åˆ¶æ—¥å¿—å†…å®¹å‘é€åˆ°å‰¯æœ¬ã€‚è¯¥çº¿ç¨‹å¯ä»¥<a href=https://dev.mysql.com/doc/refman/8.0/en/show-processlist.html><code>SHOW PROCESSLIST</code></a>åœ¨æºä¸Šçš„è¾“å‡ºä¸­æ ‡è¯†ä¸º<code>Binlog Dump</code>çº¿ç¨‹ã€‚</p><p>äºŒè¿›åˆ¶æ—¥å¿—è½¬å‚¨çº¿ç¨‹è·å–æºäºŒè¿›åˆ¶æ—¥å¿—çš„é”ï¼Œç”¨äºè¯»å–è¦å‘é€åˆ°å‰¯æœ¬çš„æ¯ä¸ªäº‹ä»¶ã€‚ä¸€æ—¦äº‹ä»¶è¢«è¯»å–ï¼Œé”å°±ä¼šè¢«é‡Šæ”¾ï¼Œç”šè‡³åœ¨äº‹ä»¶è¢«å‘é€åˆ°å‰¯æœ¬ä¹‹å‰ã€‚</p></li><li><p><strong>å¤åˆ¶ I/O æ¥æ”¶å™¨çº¿ç¨‹ã€‚</strong> å½“<a href=https://dev.mysql.com/doc/refman/8.0/en/start-replica.html><code>START REPLICA</code></a>åœ¨å‰¯æœ¬æœåŠ¡å™¨ä¸Šå‘å‡ºä¸€æ¡è¯­å¥æ—¶ï¼Œå‰¯æœ¬ä¼šåˆ›å»ºä¸€ä¸ª I/Oï¼ˆæ¥æ”¶å™¨ï¼‰çº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è¿æ¥åˆ°æºå¹¶è¦æ±‚å®ƒå‘é€è®°å½•åœ¨å…¶äºŒè¿›åˆ¶æ—¥å¿—ä¸­çš„æ›´æ–°ã€‚</p><p>å¤åˆ¶æ¥æ”¶è€…çº¿ç¨‹è¯»å–æº<code>Binlog Dump</code>çº¿ç¨‹å‘é€çš„æ›´æ–°ï¼ˆå‚è§ä¸Šä¸€é¡¹ï¼‰å¹¶å°†å®ƒä»¬å¤åˆ¶åˆ°åŒ…å«å‰¯æœ¬ä¸­ç»§æ—¥å¿—çš„æœ¬åœ°æ–‡ä»¶ã€‚</p><p>è¯¥çº¿ç¨‹çš„çŠ¶æ€æ˜¾ç¤º <code>Slave_IO_running</code>åœ¨ çš„è¾“å‡ºä¸­ <a href=https://dev.mysql.com/doc/refman/8.0/en/show-slave-status.html><code>SHOW SLAVE STATUS</code></a>ã€‚</p></li><li><p><strong>å¤åˆ¶ SQL åº”ç”¨ç¨‹åºçº¿ç¨‹ã€‚</strong> å‰¯æœ¬åˆ›å»ºä¸€ä¸ª SQLï¼ˆåº”ç”¨ç¨‹åºï¼‰çº¿ç¨‹æ¥è¯»å–ç”±å¤åˆ¶æ¥æ”¶å™¨çº¿ç¨‹å†™å…¥çš„ä¸­ç»§æ—¥å¿—å¹¶æ‰§è¡Œå…¶ä¸­åŒ…å«çš„äº‹åŠ¡ã€‚</p></li></ul><h5 id=å¼‚æ­¥å¤åˆ¶>å¼‚æ­¥å¤åˆ¶</h5><p><img src=./async-replication-diagram.png alt></p><h5 id=åŠåŒæ­¥å¤åˆ¶>åŠåŒæ­¥å¤åˆ¶</h5><p><img src=./semisync-replication-diagram.png alt></p><h5 id=ç»„å¤åˆ¶>ç»„å¤åˆ¶</h5><p><img src=./gr-replication-diagram.png alt></p><h4 id=mysqlé›†ç¾¤>Mysqlé›†ç¾¤</h4><p>InnoDB ReplicaSet ä¸æä¾› InnoDB Cluster æä¾›çš„æ‰€æœ‰åŠŸèƒ½ï¼Œä¾‹å¦‚è‡ªåŠ¨æ•…éšœè½¬ç§»æˆ–å¤šä¸»æ¨¡å¼ã€‚ä½†æ˜¯æ‚¨å¯ä»¥æ‰‹åŠ¨åˆ‡æ¢æˆ–æ•…éšœè½¬ç§»åˆ°è¾…åŠ©å®ä¾‹ï¼Œä¾‹å¦‚åœ¨å‘ç”Ÿæ•…éšœæ—¶ã€‚æ‚¨ç”šè‡³å¯ä»¥é‡‡ç”¨ç°æœ‰çš„å¤åˆ¶éƒ¨ç½²ï¼Œç„¶åå°†å…¶ä½œä¸º InnoDB ReplicaSet è¿›è¡Œç®¡ç†ã€‚</p><p>mysqlé›†ç¾¤ä¸»è¦åŸºäº MySQL Group Replicationæ„å»ºï¼Œæä¾›è‡ªåŠ¨æˆå‘˜ç®¡ç†ã€å®¹é”™ã€è‡ªåŠ¨æ•…éšœè½¬ç§»ç­‰åŠŸèƒ½ã€‚</p><p><img src=./innodb_cluster.png alt></p><h3 id=4ç¯å¢ƒå‡†å¤‡>4.ç¯å¢ƒå‡†å¤‡</h3><h4 id=41ç¯å¢ƒç›®å½•ç»“æ„>4.1.ç¯å¢ƒç›®å½•ç»“æ„</h4><pre><code>â”œâ”€mysql-8.0.27-winx64
â”œâ”€master
â”‚  â””â”€data
â”‚  â””â”€my.ini
â”œâ”€slave_1
â”‚  â””â”€data
â”‚  â””â”€my.ini
â””â”€slave_2
â”‚  â””â”€data
â”‚  â””â”€my.ini
â””â”€slave_canal
â”‚  â”œâ”€bin
â”‚  â”œâ”€conf
â”‚  â”œâ”€lib
â”‚  â”œâ”€logs
â”‚  â”‚  â”œâ”€canal
â”‚  â”‚  â””â”€example
â”‚  â””â”€plugin
</code></pre><h4 id=42å®‰è£…mysql>4.2.å®‰è£…mysql</h4><p>ä¸‹è½½<code>https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-8.0.27-winx64.zip</code></p><h5 id=421master>4.2.1.master</h5><h6 id=1é…ç½®myini>1).é…ç½®my.ini</h6><pre><code>[mysql]
# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
default-character-set=utf8mb4

[mysqld]
# è®¾ç½®3307ç«¯å£
port = 3307
# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•
basedir=E:/db/mysql_cluster/mysql-8.0.27-winx64
# è®¾ç½® mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•ï¼ŒMySQL 8+ ä¸éœ€è¦ä»¥ä¸‹é…ç½®ï¼Œç³»ç»Ÿè‡ªå·±ç”Ÿæˆå³å¯ï¼Œå¦åˆ™æœ‰å¯èƒ½æŠ¥é”™
datadir=E:/db/mysql_cluster/master/data
# å…è®¸æœ€å¤§è¿æ¥æ•°
max_connections=200
# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†
character-set-server=utf8mb4
# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“
default-storage-engine=INNODB
explicit_defaults_for_timestamp=true
log-error=E:/db/mysql_cluster/master/error.log
pid-file=E:/db/mysql_cluster/master/mysql.pid
socket =E:/db/mysql_cluster/master/mysql.socket

# masteré…ç½®
server-id = 1
log_bin = E:/db/mysql_cluster/master/bin.log
max_binlog_size = 20M
slow_query_log = 1
#(å¯é€‰é…ç½®ï¼‰è¦åŒæ­¥çš„æ•°æ®åº“åï¼Œè¦åŒæ­¥å¤šä¸ªæ•°æ®åº“ï¼Œå°±å¤šåŠ å‡ ä¸ªreplicate-db-db=æ•°æ®åº“å
binlog-do-db=test
#ï¼ˆå¯é€‰é…ç½®ï¼‰è¦å¿½ç•¥çš„æ•°æ®åº“
binlog-ignore-db=mysql
binlog-ignore-db=sys
binlog-ignore-db=information_schema
binlog-ignore-db=performance_schema
</code></pre><h6 id=2å®‰è£…mysql>2).å®‰è£…mysql</h6><pre><code>
1.åˆ›å»ºé…ç½®æ–‡ä»¶
2.cmdåˆå§‹åŒ–
&gt;&gt;E:/db/mysql_cluster/mysql-8.0.27-winx64/bin/mysqld --defaults-file=E:/db/mysql_cluster/master/my.ini --initialize --basedir=E:/db/mysql_cluster/mysql-8.0.27-winx64 --datadir=E:/db/mysql_cluster/master/data

3.cmdè¿è¡Œ
&gt;&gt;E:/db/mysql_cluster/mysql-8.0.27-winx64/bin/mysqld  --defaults-file=E:/db/mysql_cluster/master/my.ini

4.ä¿®æ”¹å¯†ç 
æŸ¥çœ‹ mster/error.log ä¸´æ—¶å¯†ç ï¼Œè¿æ¥mysqlä¿®æ”¹rootå¯†ç 

&gt;&gt;E:/db/mysql_cluster/mysql-8.0.27-winx64/bin/mysql -h localhost -P 3307 -u root -p
&gt;&gt;use mysql;
&gt;&gt;alter user 'root'@'localhost' identified with mysql_native_password by '123456';
&gt;&gt;flush privileges; 
&gt;&gt;exit;
</code></pre><h6 id=3é…ç½®slaveç”¨æˆ·>3).é…ç½®slaveç”¨æˆ·</h6><p>åˆ›å»ºslaveuserï¼Œå…è®¸ä»slaveèŠ‚ç‚¹è¿æ¥å¤åˆ¶binlogã€‚</p><p>æˆäºˆæ‰€æœ‰æƒé™<code>GRANT ALL PRIVILEGES ON *.* TO 'canal'@'%'</code></p><pre><code>mysql&gt;CREATE USER slaveuser@'%' IDENTIFIED WITH mysql_native_password BY '123456';
mysql&gt;grant replication slave on *.* to slaveuser@'%';
mysql&gt;GRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'slaveuser'@'%';
mysql&gt;flush privileges;
mysql&gt;show grants for slaveuser@'%';
</code></pre><h6 id=4æŸ¥çœ‹masterçŠ¶æ€>4).æŸ¥çœ‹masterçŠ¶æ€</h6><pre><code>mysql&gt; show master statusï¼›
</code></pre><p><img src=1.png alt></p><h5 id=422slave>4.2.2.slave</h5><p>å‚è€ƒ <a href=https://dev.mysql.com/doc/refman/8.0/en/replication-options-replica.html>https://dev.mysql.com/doc/refman/8.0/en/replication-options-replica.html</a> slaveé…ç½®å‚æ•°</p><h6 id=1é…ç½®myini-1>1).é…ç½®my.ini</h6><pre><code>[mysql]
# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
default-character-set=utf8mb4

[mysqld]
# è®¾ç½® 3308 ç«¯å£
port = 3308
# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•
basedir=E:/db/mysql_cluster/mysql-8.0.27-winx64
# è®¾ç½® mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•ï¼ŒMySQL 8+ ä¸éœ€è¦ä»¥ä¸‹é…ç½®ï¼Œç³»ç»Ÿè‡ªå·±ç”Ÿæˆå³å¯ï¼Œå¦åˆ™æœ‰å¯èƒ½æŠ¥é”™
datadir=E:/db/mysql_cluster/slave_1/data
# å…è®¸æœ€å¤§è¿æ¥æ•°
max_connections=200
# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†
character-set-server=utf8mb4
# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“
default-storage-engine=INNODB
explicit_defaults_for_timestamp=true
log-error=E:/db/mysql_cluster/slave_1/error.log
pid-file=E:/db/mysql_cluster/slave_1/mysql.pid
socket =E:/db/mysql_cluster/slave_1/mysql.socket

# masteré…ç½®
log_bin = E:/db/mysql_cluster/slave_1/bin.log
server-id = 2
read_only = 1
max_binlog_size = 20M
slow_query_log   = 1
#(å¯é€‰é…ç½®ï¼‰è¦åŒæ­¥çš„æ•°æ®åº“åï¼Œè¦åŒæ­¥å¤šä¸ªæ•°æ®åº“ï¼Œå°±å¤šåŠ å‡ ä¸ªreplicate-db-db=æ•°æ®åº“å
binlog-do-db=test
#ï¼ˆå¯é€‰é…ç½®ï¼‰è¦å¿½ç•¥çš„æ•°æ®åº“
binlog-ignore-db=mysql
binlog-ignore-db=sys
binlog-ignore-db=information_schema
binlog-ignore-db=performance_schema
</code></pre><h6 id=2å®‰è£…mysql-1>2ï¼‰.å®‰è£…mysql</h6><p>å‚è€ƒmaseter</p><h6 id=3é…ç½®slave>3).é…ç½®slave</h6><p>å‚è€ƒ masterã€æŸ¥çœ‹masterçŠ¶æ€ã€‘</p><pre><code># é…ç½®è¿æ¥masterä¿¡æ¯
mysql&gt; CHANGE MASTER TO MASTER_HOST='127.0.0.1', master_port = 3307,MASTER_USER='slaveuser', MASTER_PASSWORD='123456', MASTER_LOG_FILE='bin.000001', MASTER_LOG_POS=1673,master_connect_retry = 15,master_retry_count = 0;
mysql&gt; start slave;
mysql&gt; show slave status;

# åˆ é™¤slaveé…ç½®ä¿¡æ¯
# stop slave;
# reset slave all;
</code></pre><p>åˆ›å»ºåªè¯»ç”¨æˆ·ï¼Œé˜²æ­¢ç”¨rootæ“ä½œåŒæ­¥åº“</p><pre><code>CREATE USER 'readuser'@'%' IDENTIFIED WITH mysql_native_password BY '123456'; 
GRANT SELECT ON *.* TO 'readuser'@'%';
FLUSH PRIVILEGES;
</code></pre><h6 id=4æŸ¥çœ‹masterçŠ¶æ€-1>4).æŸ¥çœ‹masterçŠ¶æ€</h6><pre><code>mysql&gt; show master statusï¼›
</code></pre><p><img src=2.png alt></p><h4 id=43-æµ‹è¯•>4.3 æµ‹è¯•</h4><p>åœ¨masteræ‰§è¡Œä¸€ä¸‹è¯­å¥ï¼ŒæŸ¥çœ‹slaveåº“æ˜¯å¦åŒæ­¥ã€‚</p><pre><code>CREATE DATABASE IF NOT EXISTS test DEFAULT CHARSET utf8 COLLATE utf8_general_ci;`

create table t_data
(
   id     bigint(20) not null auto_increment comment 'ä¸»é”®',
   name   varchar(32) comment 'åç§°',
   create_time          datetime default CURRENT_TIMESTAMP comment 'åˆ›å»ºæ—¶é—´',
   update_time          datetime default CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP comment 'æ›´æ–°æ—¶é—´',
   primary key (id)
) ENGINE=InnoDB  COMMENT='æµ‹è¯•è¡¨';

insert into t_data(name) values(1);
</code></pre><h3 id=5å¼€å¯gtid>5.å¼€å¯GTID</h3><p>å…¨å±€äº‹åŠ¡æ ‡è¯†ç¬¦ (GTID) æ˜¯åœ¨æºæœåŠ¡å™¨ï¼ˆæºï¼‰ä¸Šåˆ›å»ºå¹¶ä¸æäº¤çš„æ¯ä¸ªäº‹åŠ¡ç›¸å…³è”çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚æ­¤æ ‡è¯†ç¬¦ä¸ä»…å¯¹äºå®ƒèµ·æºçš„æœåŠ¡å™¨æ˜¯å”¯ä¸€çš„ï¼Œè€Œä¸”å¯¹äºç»™å®šå¤åˆ¶æ‹“æ‰‘ä¸­çš„æ‰€æœ‰æœåŠ¡å™¨ä¹Ÿæ˜¯å”¯ä¸€çš„ã€‚</p><p>ä»MySQL5.6å¼€å§‹å¢åŠ äº†å¼ºå¤§çš„GTIDï¼ˆGlobal Transaction IDï¼Œå…¨å±€äº‹åŠ¡IDï¼‰è¿™ä¸ªç‰¹æ€§ï¼Œç”¨æ¥å¼ºåŒ–æ•°æ®åº“çš„ä¸»å¤‡ä¸€è‡´æ€§ï¼Œ æ•…éšœæ¢å¤ï¼Œ ä»¥åŠå®¹é”™èƒ½åŠ›ã€‚ç”¨äºå–ä»£è¿‡å»ä¼ ç»Ÿçš„ä¸»ä»å¤åˆ¶ï¼ˆå³ï¼šåŸºäºbinlogå’Œpositionçš„å¼‚æ­¥å¤åˆ¶ï¼‰ã€‚</p><p>å€ŸåŠ©GTIDï¼Œåœ¨å‘ç”Ÿä¸»å¤‡åˆ‡æ¢çš„æƒ…å†µä¸‹ï¼ŒMySQLçš„å…¶ä»–slaveå¯ä»¥è‡ªåŠ¨åœ¨æ–°ä¸»ä¸Šæ‰¾åˆ°æ­£ç¡®çš„å¤åˆ¶ä½ç½®ï¼Œè¿™å¤§å¤§ç®€åŒ–äº†å¤æ‚å¤åˆ¶æ‹“æ‰‘ä¸‹é›†ç¾¤çš„ç»´æŠ¤ï¼Œä¹Ÿå‡å°‘äº†äººä¸ºè®¾ç½®å¤åˆ¶positionå‘ç”Ÿè¯¯æ“ä½œçš„é£é™©ã€‚å¦å¤–ï¼ŒåŸºäºGTIDçš„å¤åˆ¶å¯ä»¥å¿½ç•¥å·²ç»æ‰§è¡Œè¿‡çš„äº‹åŠ¡ï¼Œå‡å°‘äº†æ•°æ®å‘ç”Ÿä¸ä¸€è‡´çš„é£é™©ã€‚</p><p>å‚è€ƒï¼šhttps://dev.mysql.com/doc/refman/8.0/en/replication-mode-change-online-enable-gtids.html</p><pre><code>1.ä¿®æ”¹masterã€slave èŠ‚ç‚¹my.conf or my.ini
# GTID
gtid_mode=ON
enforce_gtid_consistency=ON

2.è®¾ç½®salveèŠ‚ç‚¹
mysql&gt; E:/db/mysql_cluster/mysql-8.0.27-winx64/bin/mysql -h localhost -P 3308 -u root -p
mysql&gt; STOP SLAVE ;
mysql&gt; CHANGE MASTER TO MASTER_HOST='127.0.0.1', master_port = 3307,MASTER_USER='slaveuser', MASTER_PASSWORD='123456',MASTER_AUTO_POSITION = 1;
mysql&gt; START SLAVE ;

Or from MySQL 8.0.22 / 8.0.23:

STOP REPLICA ;
CHANGE REPLICATION SOURCE TO MASTER_HOST='127.0.0.1', master_port = 3307,MASTER_USER='slaveuser', MASTER_PASSWORD='123456',SOURCE_AUTO_POSITION = 1;
START REPLICA ;

3.æŸ¥çœ‹çŠ¶æ€
show slave status \G;
show variables like 'gtid_%';
</code></pre><h3 id=6canal-slave>6.canal slave</h3><h4 id=61ä¸‹è½½-canal>6.1ä¸‹è½½ canal</h4><p><code>https://github.com/alibaba/canal/releases</code></p><h4 id=62-é…ç½®>6.2 é…ç½®</h4><pre><code>1ï¼‰ç¡®è®¤mysqlé…ç½®
[mysqld]  
log-bin=mysql-bin #æ·»åŠ è¿™ä¸€è¡Œå°±ok  
binlog-format=ROW #é€‰æ‹©rowæ¨¡å¼   

mysql&gt; show variables like 'binlog_format';
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| binlog_format | ROW   |
+---------------+-------+
mysql&gt; show variables like 'log_bin';
+---------------+-------+
| Variable_name | Value |
+---------------+-------+
| log_bin       | ON    |
+---------------+-------+

2ï¼‰è§£å‹åˆ°ç›®å½•./slave_canal

3) ä¿®æ”¹é…ç½® slave_canal/conf/example/instance.properties
# åŸºç¡€é…ç½®
canal.port = 11111 #ç«¯å£
canal.serverMode = tcp   # canal clientçš„æ¨¡å¼: tcp kafka rocketMQ

# é…ç½®destinations
canal.destinations = instance_1 # æŒ‡å®šå®ä¾‹    
canal.conf.dir = ../conf  # å®ä¾‹é…ç½®ç›®å½•
canal.auto.scan = true   # è‡ªåŠ¨æ‰«æå®åˆ—ç›®å½•,å®ç°å®åˆ—åŠ¨æ€åŠ è½½ã€ç§»é™¤
canal.auto.scan.interval = 5 
canal.auto.reset.latest.pos.mode = false
canal.instance.tsdb.spring.xml = classpath:spring/tsdb/h2-tsdb.xml
canal.instance.global.mode = spring
canal.instance.global.lazy = false
canal.instance.global.manager.address = ${canal.admin.manager} 
canal.instance.global.spring.xml = classpath:spring/file-instance.xml 

4) ä¿®æ”¹é…ç½® slave_canal/conf/instance_1/instance.properties
canal.instance.master.address=127.0.0.1:3307 #æŒ‡å‘mysql masteré…ç½®
canal.instance.dbUsername=slaveuser   # æ‹¥æœ‰ä¸»ä»å¤åˆ¶ã€è¿æ¥æƒé™çš„ç”¨æˆ·
canal.instance.dbPassword=123456  # å¯¹åº”dbUsernameçš„å¯†ç 

5) å¯åŠ¨ slave_canalã€bin/startup.bat
slave_canal/logs/canal/canal.log
slave_canal/logs/instance_1/instance_1.log


 
</code></pre><h4 id=51-canalå®¢æˆ·ç«¯æµ‹è¯•>5.1 canalå®¢æˆ·ç«¯æµ‹è¯•</h4><p>see <code>https://github.com/alibaba/canal.git</code></p><pre><code>è¿è¡Œ com.alibaba.otter.canal.example.BaseCanalClientTest.main
</code></pre><p>åœ¨masterèŠ‚ç‚¹æ‰§è¡Œ insert,å¯ä»¥çœ‹åˆ°bingnlogæ¶ˆæ¯</p><p><img src=./canal_1.png alt></p><p>åœ¨masterèŠ‚ç‚¹æ‰§è¡Œ update,å¯ä»¥çœ‹åˆ°bingnlogæ¶ˆæ¯</p><p><img src=./canal_2.png alt></p><h3 id=7é—®é¢˜>7.é—®é¢˜</h3><h4 id=71error_code-1032-handler-error-ha_err_key_not_found-the-events-master-log-first-end_log_pos-429-error_code-my-001032>7.1.Error_code: 1032; handler error HA_ERR_KEY_NOT_FOUND; the event&rsquo;s master log FIRST, end_log_pos 429, Error_code: MY-001032</h4><pre><code>åœ¨ä»åº“åˆ é™¤æ•°æ®åï¼Œå‡ºç°ä¸»ä»åŒæ­¥é—®é¢˜
1)stop slave;
2)æ‰¾å‡ºè¢«åˆ é™¤çš„è®°å½•ï¼Œé‡æ–°æ’å…¥ä»åº“
E:/db/mysql_cluster/mysql-8.0.27-winx64/bin/mysqlbinlog --no-defaults --base64-output=decode-rows -v  bin.000001 &gt;bin.sql

or

E:/db/mysql_cluster/mysql-8.0.27-winx64/bin/mysqlbinlog --no-defaults  --base64-output=DECODE-ROWS -v  bin.000001

3)start slave;

 
</code></pre><h4 id=72client-does-not-support-authentication-protocol-requested-by-server-consider-upgrading-mysql-client>7.2.client does not support authentication protocol requested by server consider upgrading mysql client</h4><p>åˆ›å»ºç”¨æˆ·æ—¶æŒ‡å®šmysql_native_password ï¼Œ mysql8ä¹‹å,åŠ å¯†è§„åˆ™æ˜¯caching_sha2_passwordã€‚</p><p><code>CREATE USER slaveuser@'%' IDENTIFIED WITH mysql_native_password BY '123456';</code></p><h4 id=73access-denied-you-need-at-least-one-of-the-super-replication-client-privileges>7.3.Access denied; you need (at least one of) the SUPER, REPLICATION CLIENT privilege(s)</h4><p>ä¸ºç”¨æˆ·å¢åŠ  REPLICATION CLIENT æƒé™</p><p><code>GRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO 'ç”¨æˆ·å'@'%';</code></p><h3 id=8å¤‡æŸ¥å‘½ä»¤>8.å¤‡æŸ¥å‘½ä»¤</h3><h4 id=81æŸ¥çœ‹ä»èŠ‚ç‚¹æ•°é‡>8.1.æŸ¥çœ‹ä»èŠ‚ç‚¹æ•°é‡</h4><pre><code>show slave hosts;
select * from information_schema.processlist as p where p.command = 'Binlog Dump'; 
</code></pre><h4 id=82æŸ¥çœ‹ç‰ˆæœ¬>8.2.æŸ¥çœ‹ç‰ˆæœ¬</h4><p><code>select version();</code></p><p><code>SELECT * FROM information_schema.plugins;</code>
<code>SELECT @@innodb_version;</code></p><h5 id=82mysqlbinlog>8.2.mysqlbinlog</h5><p>æŸ¥çœ‹binlogä¿¡æ¯ <code>mysqlbinlog -v --base64-output=DECODE-ROWS ./bin.000001</code></p><p>æŸ¥çœ‹binglogæ–‡ä»¶ <code>SHOW BINARY LOGS</code></p><h3 id=9æ•°æ®å‚è€ƒ>9.æ•°æ®å‚è€ƒ:</h3><p>1.æœºå™¨ä¿¡æ¯<code>DBå‹(å†…å­˜(12*32G)384Gç¡¬ç›˜2*480G(s4500)SSD+8*960G(s4500)SSD)</code></p><pre><code>show variables like '%binlog%';
1	binlog_cache_size	1048576
2	binlog_checksum	NONE
3	binlog_direct_non_transactional_updates	OFF
4	binlog_error_action	ABORT_SERVER
5	binlog_format	ROW
6	binlog_group_commit_sync_delay	0
7	binlog_group_commit_sync_no_delay_count	0
8	binlog_gtid_simple_recovery	ON
9	binlog_max_flush_queue_time	0
10	binlog_order_commits	ON
11	binlog_row_image	FULL
12	binlog_rows_query_log_events	OFF
13	binlog_skip_flush_commands	OFF
14	binlog_space_limit	0
15	binlog_stmt_cache_size	32768
16	binlog_transaction_dependency_history_size	25000
17	binlog_transaction_dependency_tracking	COMMIT_ORDER
18	encrypt_binlog	OFF
19	have_backup_safe_binlog_info	YES
20	innodb_api_enable_binlog	OFF
21	innodb_locks_unsafe_for_binlog	OFF
22	log_statements_unsafe_for_binlog	ON
23	max_binlog_cache_size	18446744073709547520
24	max_binlog_files	0
25	max_binlog_size	1073741824
26	max_binlog_stmt_cache_size	18446744073709547520
27	sync_binlog	1




show variables like '%relay%';
1	max_relay_log_size	0
2	relay_log	relay-bin
3	relay_log_basename	/data/mysql_3306/relay-bin
4	relay_log_index	/data/mysql_3306/relay-bin.index
5	relay_log_info_file	relay-log.info
6	relay_log_info_repository	TABLE
7	relay_log_purge	ON
8	relay_log_recovery	ON
9	relay_log_space_limit	0
10	sync_relay_log	10000
11	sync_relay_log_info	10000
</code></pre><footer><section class=categories-tags><span><svg class="icon icon-folder"><use xlink:href="#icon-folder"/></svg><span class=screen-reader-text>This entry was posted in</span>
<a href=/categories/mysql>mysql</a></span> <span><svg class="icon icon-tag"><use xlink:href="#icon-tag"/></svg><a class=article-tags href=/tags/mysql>mysql</a></span></section></footer><div id=comments-button-container class=comments-button-container><button type=button onclick=loadDisqus() class=comments-button><svg class="icon icon-bubble"><use xlink:href="#icon-bubble"/></svg> <span>Show Comments</span></button></div><div id=disqus_thread></div><script type=text/javascript>function loadDisqus(){var a,b;document.getElementById('comments-button-container').style.display='none',a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='ææ˜æ¢“',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)}</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><aside id=sidebar><div class=widget><div class=widget-title>Recent posts</div><ol class="recent-widget widget-content"><li><a href=/go-sdk/>GO SDK</a></li><li><a href=/jemeter%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/>jemeteråŸºæœ¬ä½¿ç”¨</a></li><li><a href=/%E5%A4%A7%E9%A3%8E%E6%AD%8C%E7%8E%8B%E7%AB%8B%E7%BE%A4/>&lt;&lt;å¤§é£æ­Œ>>ç‹ç«‹ç¾¤</a></li><li><a href=/%E4%BD%8D%E8%BF%90%E7%AE%97%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/>ä½è¿ç®—åŸºç¡€çŸ¥è¯†</a></li><li><a href=/canal-mysql-binlog%E6%97%A5%E5%BF%97%E8%A7%A3%E6%9E%90/>canal-mysql binlogæ—¥å¿—è§£æ</a></li></ol></div><div class=widget><div class=widget-title>Categories</div><ol class="all-categories widget-content"><li><a href=/categories/devops>devops</a> (1)</li><li><a href=/categories/java>java</a> (6)</li><li><a href=/categories/mysql>mysql</a> (1)</li><li><a href=/categories/%E5%85%B6%E4%BB%96>å…¶ä»–</a> (4)</li><li><a href=/categories/%E5%89%8D%E7%AB%AF>å‰ç«¯</a> (1)</li><li><a href=/categories/%E5%90%8E%E7%AB%AF>åç«¯</a> (2)</li><li><a href=/categories/%E5%9F%BA%E7%A1%80>åŸºç¡€</a> (1)</li><li><a href=/categories/%E5%B7%A5%E5%85%B7>å·¥å…·</a> (3)</li></ol></div><div class=widget><div class=widget-title>Tags</div><div class="tag-cloud-tags widget-content"><a href=/tags/canal aria-label="canal (4 posts)" style=font-size:1rem>canal</a>
<a href=/tags/git aria-label="git (1 posts)" style=font-size:1rem>git</a>
<a href=/tags/go aria-label="go (2 posts)" style=font-size:1rem>go</a>
<a href=/tags/hexo aria-label="hexo (1 posts)" style=font-size:1rem>hexo</a>
<a href=/tags/java aria-label="java (1 posts)" style=font-size:1rem>java</a>
<a href=/tags/maven aria-label="maven (1 posts)" style=font-size:1rem>maven</a>
<a href=/tags/mysql aria-label="mysql (1 posts)" style=font-size:1rem>mysql</a>
<a href=/tags/yarn aria-label="yarn (1 posts)" style=font-size:1rem>yarn</a>
<a href=/tags/zabbix aria-label="zabbix (1 posts)" style=font-size:1rem>zabbix</a>
<a href=/tags/%E5%9F%BA%E7%A1%80 aria-label="åŸºç¡€ (1 posts)" style=font-size:1rem>åŸºç¡€</a>
<a href=/tags/%E5%B7%A5%E5%85%B7 aria-label="å·¥å…· (2 posts)" style=font-size:1rem>å·¥å…·</a>
<a href=/tags/%E8%BD%AF%E6%96%87%E6%94%B6%E9%9B%86 aria-label="è½¯æ–‡æ”¶é›† (2 posts)" style=font-size:1rem>è½¯æ–‡æ”¶é›†</a></div></div></aside></div></div><svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-github" viewBox="0 0 32 32"><path d="M16 .395c-8.836.0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182.8.148 1.094-.347 1.094-.77.0-.381-.015-1.642-.022-2.979-4.452.968-5.391-1.888-5.391-1.888-.728-1.849-1.776-2.341-1.776-2.341-1.452-.993.11-.973.11-.973 1.606.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33.143-1.034.558-1.74 1.016-2.14-3.554-.404-7.29-1.777-7.29-7.907.0-1.747.625-3.174 1.649-4.295-.166-.403-.714-2.03.155-4.234.0.0 1.344-.43 4.401 1.64 1.276-.355 2.645-.532 4.005-.539 1.359.006 2.729.184 4.008.539 3.054-2.07 4.395-1.64 4.395-1.64.871 2.204.323 3.831.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295.0 6.145-3.743 7.498-7.306 7.895.574.497 1.085 1.47 1.085 2.963.0 2.141-.019 3.864-.019 4.391.0.426.288.925 1.099.768C27.421 29.457 32 23.462 32 16.395c0-8.837-7.164-16-16-16z"/></symbol><symbol id="icon-arrow-with-circle-up" viewBox="0 0 32 32"><path d="M16 .64C7.515.64.638 7.517.638 16c0 8.485 6.877 15.362 15.362 15.362 8.482.0 15.36-6.877 15.36-15.362.0-8.483-6.878-15.36-15.36-15.36zM15.998 28.16c-6.715.0-12.16-5.443-12.16-12.16S9.281 3.84 15.998 3.84 28.16 9.285 28.16 16s-5.446 12.16-12.162 12.16zM16 8.8l7.2 7.2h-4v6.4h-6.4V16h-4L16 8.8z"/></symbol></defs></svg><footer id=page-footer><div class=footer-content><a href=https://github.com/qiaomingzi/limz-blog-hugo target=_blank rel=noopener title="Source Code for this Blog"><div class=footer-text><svg class="icon icon-github"><use xlink:href="#icon-github"/></svg>Blog code</div></a><a href=#page-wrapper title="Go to top" id=go-to-top-link><div class=footer-text>To top<svg class="icon icon-arrow-with-circle-up"><use xlink:href="#icon-arrow-with-circle-up"/></svg></div></a><script>document.getElementById("go-to-top-link").onclick=function(){return window.scroll(0,0),!1}</script></div></footer></div><div id=lightbox-container :class="{'open': lightbox.isOpen, 'close': !lightbox.isOpen}"><button type=button aria-label="Close image modal" class=modal-close-button @click=lightbox.close()><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=lightbox-loading-container x-ref=lightboxLoadingContainer x-show=lightbox.showLoading><div id=lightbox-loading><div aria-busy=true aria-label="Loading, please wait." role=progressbar class=spinner @click=lightbox.cancel() @click.away=lightbox.cancel()></div></div></div><div id=lightbox x-ref=lightbox :class="{'open': lightbox.openImage, 'close': !lightbox.openImage}" @click=lightbox.close()></div></div><div id=code-container :class="{'open': code.isOpening, 'close': !code.isOpening}"><button class=modal-close-button><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=code-container-inner class=close :class="{'open': code.isOpening, 'close': !code.isOpening}"><div class=box-shadow-container @click.away=code.close()><div id=code-placeholder></div></div></div></div><div id=searchbox-container :class="{'open': search.isOpen}" x-show=search.isOpen x-on:keydown.escape="$nextTick(() => $refs.searchMenuLink.focus())"><button type=button aria-label="Close search modal" class=modal-close-button @click="search.close();$nextTick(() => $refs.searchMenuLink.focus())"><svg class="icon icon-circle-with-cross"><use xlink:href="#icon-circle-with-cross"/></svg>
(ESC)</button><div id=searchbox :class="{'open': search.isOpen}"><svg class="icon icon-search"><use xlink:href="#icon-search"/></svg><label for=search-input class=sr-only>Searchbox</label>
<input id=search-input type=search placeholder=Search... class=search-input x-ref=searchInput autocomplete=off autocorrect=off autocapitalize=off spellcheck=false x-model=search.textInSearchBox x-on:input=search.searchBoxChanged($event.target.value) x-on:keydown.enter="search.focusFirstAnchor($event, $refs.hits)" x-on:keydown.arrow-down="search.focusFirstAnchor($event, $refs.hits)"><svg class="icon icon-circle-with-cross close-search" role="button" aria-label="Close search" @click="search.close();$nextTick(() => $refs.searchMenuLink.focus())"><use xlink:href="#icon-circle-with-cross"/></svg></div><div class=search-results-container><div id=search-output x-show=search.textInSearchBox><div id=no-results-message x-show="search.store && search.textInSearchBox && !search.hits.length">No matching posts found. You can use wildcards and search only in titles, e.g. <code>title:iot</code></div><div id=index-loading-message x-show="!search.indexLoadFailed && search.indexLoading && search.textInSearchBox"><span class=icon-spinner aria-hidden=true></span>Loading search index, please wait...</div><div id=index-failed-message x-show="search.indexLoadFailed && search.textInSearchBox">Search index failed to download ğŸ˜¢</div><div id=number-of-hits-message x-text=search.getHitsText() x-show=search.hits.length></div><ol class=result-list x-show=search.hits.length x-ref=hits><template x-for="hit in search.hits" :key=hit.ref><li><h2><a :href=hit.ref x-text=search.fromStore(hit).title></a></h2><div class=entry-meta><time class=published :datetime=search.fromStore(hit).dateiso><svg class="icon icon-calendar"><use xlink:href="#icon-calendar"/></svg><span x-text=search.fromStore(hit).dateformatted></span></time></div><p x-text=search.fromStore(hit).summary></p></li></template></ol></div></div></div><script src=/bundle.326b2331e4a76c824b17b8d379095b25394912a8f7f1c8a6162a06f763a2caabe6226dee31773ec698c47b06f1de9bb7133091e9260d4d95b4011c7351300442.js integrity="sha512-MmsjMeSnbIJLF7jTeQlbJTlJEqj38cimFioG92OiyqvmIm3uMXc+xpjEewbx3pu3EzCR6SYNTZW0ARxzUTAEQg=="></script></body></html>